<% layout('layouts/boilerplate') %>
<link rel="stylesheet" href="/stylesheets/login.css">
<div class="container d-flex justify-content-center align-items-center mt-5 mb-3">
    <div class="row">
        <div class="col-md-6 offset-md-3 col-xl-4 offset-xl-4">
            <div class="card shadow">
                <% if (user.image.url) { %>
                    <img src="<%=user.display%>" class="card-img-tope edit-img">
                <% } else { %>
                    <img src="/user-friends-solid.svg" class="card-img-tope edit-img">
                <% } %>
                <div class="card-body">
                    <h4 class="card-title">Edit Account</h4>
                    <form action="/users/<%=user._id%>?_method=PUT" class='validated-form' enctype="multipart/form-data" novalidate method="POST">
                        <div class="mb-2">
                            <label for="email" class='form-label'>Email: </label>
                            <input required autofocus value="<%=user.email%>" type="email" name='user[email]' id='email' class='form-control'>    
                        </div>
                        <div class="mb-2">
                            <label for="username" class='form-label'>Username: </label>
                            <input required value="<%=user.username%>" type="text" name='user[username]' id='username' class='form-control'>    
                        </div>
                        
                        <div class="mb-2">
                            <label class='form-label' for="image-upload">Change Image: </label>
                            <input class='form-control' type="file" id="image-upload" name='image'>    
                        </div>
                        <div class="card m-2">
                            <h6 class="card-header">Fill Out to Update Password</h6>
                            <div class="card-body">
                                <div class="mb-2">
                                    <label for="oldPassword" class='form-label'>Old Password: </label>
                                    <input type="password" placeholder="Only needed to update password" name='oldPassword' id='oldPassword' class='form-control'>    
                                </div>
                                <div class="mb-2">
                                    <label for="newPassword" class='form-label'>New Password: </label>
                                    <input type="password" name='newPassword' id='newPassword' class='form-control'>
                                    <div class="invalid-feedback">New and Confirm passwords do not match.</div>    
                                </div>
                                <div class="mb-2">
                                    <label for="confirmPassword" class='form-label'>Confirm New Password: </label>
                                    <input type="password" id='confirmPassword' class='form-control'>    
                                </div>
                            </div>
                        </div>
                        <button class='btn btn-info w-100'>Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="container">
    <h1></h1>
    
</div>